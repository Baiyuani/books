
```python
# 列表、元组、字典和集合都是可迭代对象。它们是可迭代的容器，您可以从中获取迭代器。
# 所有这些对象都有一个 iter() 方法，用于获取迭代器：

mytuple = ("apple", "banana", "cherry")
myit = iter(mytuple)

print(next(myit))
print(next(myit))
print(next(myit))
```


## 创建迭代器

```python
# 要创建一个对象/类作为迭代器，您必须为您的对象实现方法 __iter__() 和 __next__() 。
# __iter__() 方法的作用类似，您可以执行操作（初始化等），但必须始终返回迭代器对象本身。
# __next__() 方法还允许您执行操作，并且必须返回序列中的下一项。

class MyNumbers:
  def __iter__(self):
    self.a = 1
    return self

  def __next__(self):
    x = self.a
    self.a += 1
    return x

myclass = MyNumbers()
myiter = iter(myclass)

print(next(myiter))
print(next(myiter))
print(next(myiter))
print(next(myiter))
print(next(myiter))
```

## 停止迭代
```python
# 如果你有足够多的 next() 语句，或者如果它被用在 for 循环中，上面的例子将永远持续下去。
# 为了防止迭代永远继续下去，我们可以使用 StopIteration 语句。
# 在 __next__() 方法中，我们可以添加终止条件以在迭代完成指定次数时引发错误：

class MyNumbers:
  def __iter__(self):
    self.a = 1
    return self

  def __next__(self):
    if self.a <= 20:
      x = self.a
      self.a += 1
      return x
    else:
      raise StopIteration

myclass = MyNumbers()
myiter = iter(myclass)

for x in myiter:
  print(x)
```


